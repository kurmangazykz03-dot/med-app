<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Body Temperature ‚Äî Spinner —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* ------------------------------------------------------------
       –ë—ã—Å—Ç—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–º–µ–Ω—è–π –∑–¥–µ—Å—å)
       --spinner-start  : –Ω–∞—á–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ (HEX)
       --spinner-end    : –∫–æ–Ω–µ—á–Ω—ã–π —Ü–≤–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ (HEX)
       --tertiary       : —Ü–≤–µ—Ç "controls/tertiary" (—Ñ–æ–Ω –∫—Ä—É–≥–∞)
       --stroke-width   : —Ç–æ–ª—â–∏–Ω–∞ –≥—Ä–∞–Ω–∏—Ü (px)
       --countdown-time : –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç—Å—á—ë—Ç–∞ (—Å–µ–∫)
       ------------------------------------------------------------ */
    :root{
      --spinner-start: #0088FF;   /* üéØ –Ω–∞—á–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –∑–¥–µ—Å—å */
      --spinner-end:   #0088FF;   /* üéØ –∫–æ–Ω–µ—á–Ω—ã–π —Ü–≤–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –∑–¥–µ—Å—å */
      --tertiary:      #D9D9D9;   /* üé® —Å–µ—Ä—ã–π —Ñ–æ–Ω –∫—Ä—É–≥–∞ */
      --stroke-width:  5px;       /* üìè –¢–æ–ª—â–∏–Ω–∞ –≥—Ä–∞–Ω–∏—Ü */
      --countdown-time: 5;        /* ‚è≥ –í—Ä–µ–º—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö */
    }

    /* –®—Ä–∏—Ñ—Ç—ã  */
    @font-face { font-family: 'SF Pro Display'; src: url('/fonts/SF-Pro-Rounded-Light.otf') format('opentype'); font-weight:400; font-display:swap; }
    @font-face { font-family: 'SF Pro Display'; src: url('/fonts/SF-Pro-Text-Semibold.otf') format('opentype'); font-weight:600; font-display:swap; }
    @font-face { font-family: 'SF Pro Display'; src: url('/fonts/SF-Pro-Text-Bold.otf') format('opentype'); font-weight:700; font-display:swap; }
    .font-sfpro{ font-family: 'SF Pro Display', sans-serif; }

    /* –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è –¥–ª—è #spinner (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ) */
    @keyframes spin { 0%{ transform: rotate(0deg); } 100%{ transform: rotate(360deg); } }
    #spinner { transform-box: fill-box; transform-origin: center; }
    .loading { animation: spin 1s linear infinite; }
    .stopped { animation: none !important; }

    /* –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –¥–ª—è —Å–º–µ—â–µ–Ω–∏—è –¥—É–≥–∏ */
    #progressCircle { transition: stroke-dashoffset 1s ease; stroke-linecap: round; }

    /* –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
    #circleText { transition: opacity 0.25s ease, transform 0.25s ease; }

    /* --- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è CSS conic (angular) gradient ---
       –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –Ω–∞—Å—Ç–æ—è—â–∏–π —É–≥–ª–æ–≤–æ–π –≥—Ä–∞–¥–∏–µ–Ω—Ç (conic), –º–æ–∂–Ω–æ
       –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç —Å background: conic-gradient(...) –∏ –º–∞—Å–∫–æ–π.
       –ü—Ä–∏–º–µ—Ä (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω):
       
       .conic-ring {
         width: 216px; height: 216px;
         background: conic-gradient(var(--spinner-start), var(--spinner-end));
         -webkit-mask: radial-gradient(transparent 50%, black 51%) padding-box;
         mask: radial-gradient(transparent 50%, black 51%) padding-box;
       }
       
       –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –∑–∞–º–µ–Ω–∏—Ç SVG-–≥—Ä–∞–¥–∏–µ–Ω—Ç –∏ –¥–∞—Å—Ç —Ä–æ–≤–Ω–æ "angular" —ç—Ñ—Ñ–µ–∫—Ç.
       ------------------------------------------------------------------ */
  </style>
</head>
<body class="flex justify-center min-h-screen bg-gray-100">
  <div class="w-96 shadow-lg p-4 bg-[#F2F2F7]">
    <div class="flex justify-between items-center mb-8">
      <h1 class="font-sfpro font-bold text-[28px]">Body Temperature</h1>
      <button class="bg-white/50 backdrop-blur-3xl border border-white/50 rounded-full p-2 shadow-xl 
                     hover:scale-105 hover:shadow-2xl hover:bg-white/40 
                     active:scale-95 active:shadow-none transition-all duration-300">
        <svg width="11" height="17" viewBox="0 0 11 17" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5">
          <path d="M0.360842 7.65576L7.00147 1.01514C7.46045 0.556152 8.20264 0.556152 8.65674 1.01514L9.76026 2.11865C10.2192 2.57764 10.2192 3.31982 9.76026 3.77393L5.05811 8.48584L9.76514 13.1929C10.2241 13.6519 10.2241 14.394 9.76514 14.8481L8.66162 15.9565C8.20264 16.4155 7.46045 16.4155 7.00635 15.9565L0.365725 9.31592C-0.0981421 8.85693 -0.0981421 8.11475 0.360842 7.65576Z" fill="black"/>
        </svg>
      </button>
    </div>

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ —Å–ø–∏–Ω–Ω–µ—Ä–æ–º -->
    <div id="circle" class="rounded-[34px] w-[350px] h-[350px] shadow-lg p-10 flex justify-center items-center
                         bg-[rgba(250,250,250,0.7)] backdrop-blur-3xl border border-white/80 mb-[10px]">
      <!-- –û–±—ë—Ä—Ç–∫–∞ –∫—Ä—É–≥–∞ (–∫–ª–∏–∫ –ø–æ –Ω–µ–π –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–∑–º–µ—Ä–µ–Ω–∏–µ) -->
      <div id="circleWrapper" class="relative w-[216px] h-[216px] cursor-pointer flex justify-center items-center">
        <!-- –¢–µ–∫—Å—Ç –≤ —Ü–µ–Ω—Ç—Ä–µ -->
        <span id="circleText" class="absolute text-[20px] font-sfpro font-semibold">START</span>

        <!-- SVG: —Å–µ—Ä—ã–π —Ñ–æ–Ω + –ø—Ä–æ–≥—Ä–µ—Å—Å-–¥—É–≥–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º -->
        <svg width="216" height="216" viewBox="0 0 216 216" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <!-- linearGradient –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–¥–µ—Å—å –∫–∞–∫ "angular-like" –≥—Ä–∞–¥–∏–µ–Ω—Ç.
                 –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –±–æ–ª–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–π —É–≥–ª–æ–≤–æ–π —ç—Ñ—Ñ–µ–∫—Ç ‚Äî —Å–º. –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤—ã—à–µ
                 –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Å—å –Ω–∞ CSS conic-gradient —Å –º–∞—Å–∫–æ–π. -->
            <linearGradient id="angularGrad" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="var(--spinner-start)" />
              <stop offset="100%" stop-color="var(--spinner-end)" />
            </linearGradient>
          </defs>

          <!-- –°–µ—Ä—ã–π —Ñ–æ–Ω –∫—Ä—É–≥–∞ (controls/tertiary) -->
          <circle cx="108" cy="108" r="105" 
                  stroke="var(--tertiary)" 
                  stroke-width="var(--stroke-width)" fill="none" />

          <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–¥—É–≥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç -->
          <!-- stroke-width —Ä–∞–≤–µ–Ω —Ç–æ–π –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è -->
          <g id="spinner">
            <circle id="progressCircle"
                    cx="108" cy="108" r="105"
                    stroke="url(#angularGrad)"
                    stroke-width="var(--stroke-width)"
                    fill="none"
                    stroke-dasharray="659.73"   <!-- —ç—Ç–æ –¥–ª–∏–Ω–∞ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏ (approx) -->
                    stroke-dashoffset="593.7"   <!-- –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º ~10% -->
                    stroke-linecap="round" />
          </g>
        </svg>
      </div>
    </div>

    <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
    <div class="w-[350px] h-[265px] rounded-[26px] p-6 shadow-lg bg-[rgba(250,250,250,0.7)]
                backdrop-blur-3xl border border-white/80">
      <div class="mb-2">
        <span class="font-sfpro text-[22px]">Usage</span>
      </div>
 
      <p class="font-sfpro text-[17px] leading-[22px] ">1. Press the Start button to begin the 
                    measurement.<br>
                    2. You will have <span id="uiCountdownTime"></span> seconds to place the 
                    sensor close to your forehead.<br>
                    3. Hold it steady until the measurement is 
                    complete.<br>
                    4. After a few moments, your 
                    temperature result will appear on the 
                    screen.<br>
                </p>
    </div>
  </div>

  <script>
document.addEventListener('DOMContentLoaded', () => {
  const circleWrapper = document.getElementById("circleWrapper");
  const progressCircle = document.getElementById("progressCircle");
  const spinner = document.getElementById("spinner");
  const text = document.getElementById("circleText");
  const uiCountdownTime = document.getElementById("uiCountdownTime");

  const root = document.documentElement;

  const RADIUS = 105;
  const CIRCUMFERENCE = 2 * Math.PI * RADIUS;
  const COUNTDOWN_TIME = Number(getComputedStyle(root).getPropertyValue('--countdown-time')) || 5;
  const MIN_RESULT = 0;
  const MAX_RESULT = 100;
  const RESULT_FORMAT = (value) => `${value}%`;

  uiCountdownTime.textContent = COUNTDOWN_TIME;

  progressCircle.style.strokeDasharray = CIRCUMFERENCE;
  progressCircle.style.strokeDashoffset = CIRCUMFERENCE * 0;

  function setProgress(percent) {
    const offset = CIRCUMFERENCE * (1 - percent / 100);
    progressCircle.style.strokeDashoffset = offset;
  }

 function startLoading() {
  if (spinner.classList.contains('loading')) return;

  let countdown = COUNTDOWN_TIME;
  text.textContent = `${countdown}s`;

  // üîµ –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ —Å–∏–Ω–∏–π –ü–ï–†–ï–î —Å—Ç–∞—Ä—Ç–æ–º –∑–∞–≥—Ä—É–∑–∫–∏
  root.style.setProperty('--spinner-start', '#0088FF');
  root.style.setProperty('--spinner-end',   '#0088FF');

  progressCircle.style.strokeDashoffset = CIRCUMFERENCE * 0.9;
  spinner.classList.remove('stopped');
  void spinner.getBoundingClientRect();
  spinner.classList.add('loading');

  const interval = setInterval(() => {
    countdown--;
    if (countdown > 0) {
      text.textContent = `${countdown}s`;
    }
  }, 1000);

  setTimeout(() => {
    clearInterval(interval);
    spinner.classList.remove('loading');
    spinner.classList.add('stopped');

    const result = Math.floor(Math.random() * (MAX_RESULT - MIN_RESULT + 1)) + MIN_RESULT;

    // üü¢ –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    if (result > 50) {
      root.style.setProperty('--spinner-start', '#00C853'); // –∑–µ–ª—ë–Ω—ã–π
      root.style.setProperty('--spinner-end',   '#00E676');
    } else {
      root.style.setProperty('--spinner-start', '#D50000'); // –∫—Ä–∞—Å–Ω—ã–π
      root.style.setProperty('--spinner-end',   '#FF1744');
    }

    setProgress(result);
    text.textContent = RESULT_FORMAT(result);
  }, COUNTDOWN_TIME * 1000);
  }

  circleWrapper.addEventListener('click', startLoading);
});
</script>
</body>
</html>